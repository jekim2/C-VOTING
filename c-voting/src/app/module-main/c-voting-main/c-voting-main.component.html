
<div class="cv_subWrap01 cv_topfixWrap">
  <div class="cv_header">
    <div class="swiper-container swiper-container-01">
      <div class="cv_swipe_title">C-VOTING</div>
      <div class="cv_btn_search" (click)="onClickNavigateMenu('search')"></div>
        <ul  class="swiper-wrapper">
          <li *ngFor="let item of reviewTopList" class="swiper-slide">
            <div class="cv_swipe_title_02">
              <span>{{ item.subject }}</span>
              <div>현재 찬 <em>{{ item.agreePercent }}%</em> 반 <em>{{ item.oppPercent }}%</em><p>{{ item.startDate  | dateFormat:'yyyy.mm.dd' }} ~ {{ item.endDate  | dateFormat:'yyyy.mm.dd' }}</p></div>
            </div>
            <div class="cv_swiper"><img src ="assets/common/images/posts/{{ item.img }}"></div>
          </li>
        </ul>
        <div class="swiper-pagination"></div>
    </div>
  </div>
  <!-- top fix area -->
  <div class="cv_topfix">
    <div class="webcontainer">
      <!-- tab -->
      <div class="tab01 st02">
        <ul>
          <li [class.cv_balloon]="selected_menu == 'initiative'" (click)="selected_menu = 'initiative'" ><button type="button"><span>발의</span></button></li>
          <li [class.cv_balloon]="selected_menu == 'review'" (click)="selected_menu = 'review';"><button type="button"><span>심의</span></button></li>
          <li [class.cv_balloon]="selected_menu == 'vote'" (click)="selected_menu = 'vote'"><button type="button"><span>의결</span></button></li>
        </ul>
      </div>
    </div>
  </div>
  <!-- top fix area -->

  <div class="cv_contentsWrap">
    <!-- web contents area -->
    <div class="cv_webcontainer">
      <!-- 발의 -->
      <div [class.cv_none]="selected_menu !== 'initiative'" class="cv_tab_cont">
        <div class="v-swiper-container swiper-max-height swiper-oh">
            <div class="swiper-wrapper">
              <div *ngFor="let index of initiativeTopList" class="swiper-slide swiper-slide-v">
                <div class="cv_title_02">
                    <button class="cv_btn_star"><p>{{ index.recommandCnt }}</p></button>
                    <span>{{ index.subject }}</span>
                </div>
              </div>
            </div>
        </div>
        <ul *ngFor="let index of initiativeList" class="cv_main_list">
          <li [attr.initiativeData]="index | json" (click)="onClickNavigateMenu('initiative', index)">
            <div class="cv_info">
              <!-- notice image -->
              <div class="cv_img">
                <span><img src = "assets/common/images/posts/{{ index.img }}" alt="filter image"></span>
              </div>
              <!-- //notice image -->
              <!-- notice contents -->
              <div class="cv_cont">
                <div>
                  <div class="cv_tit">
                    <strong>{{ index.subject }}</strong>
                    <div class="cv_btn_star"><p>{{ index.recommandCnt }}</p></div>
                  </div>
                </div>
              </div>
              <!-- //notice contents -->
            </div>
          </li>
        </ul>
      </div>
      <!--//발의 -->

      <!-- 심의 -->
      <div [class.cv_none]="selected_menu !== 'review'" class="cv_tab_cont">

        <div class="cv_title_02 gray_bottom">
          <strong class="cv_ddaytit">D-<span>{{ reviewTitle.dDay }}</span><span class="cv_ddaytit_02">{{ reviewTitle.title }}</span></strong>
        </div>
        <ul *ngFor="let item of reviewList"  class="cv_main_list">
          <li [attr.reviewData]="item | json" (click)="onClickNavigateMenu('review', item)">
            <div class="cv_info">
              <!-- notice image -->
              <div class="cv_img">
                <div>D-<span>11</span></div>
                <span><img src = "assets/common/images/posts/{{ item.img }}" alt="filter image"></span>
              </div>
              <!-- //notice image -->
              <!-- notice contents -->
              <div class="cv_cont">
                <div>
                  <div class="cv_tit">
                    <strong>{{ item.subject}}</strong>
                  </div>
                  <!--그래프-->
                  <div class="cv_stacked_bar_graph">
                    <span [style.width.%]="item.agreePercent" class="cv_bar_1"><p>{{ item.agreePercent }}%</p></span>
                    <span [style.width.%]="item.oppPercent" class="cv_bar_2"><p>{{ item.oppPercent }}%</p></span>
                    <span [style.width.%]="item.neutPercent" class="cv_bar_3"><p>{{ item.neutPercent }}%</p></span>
                  </div>
                  <!--//그래프-->
                </div>
              </div>
              <!-- //notice contents -->
            </div>
          </li>
        </ul>
      </div>
      <!-- //심의 -->

      <!-- 의결 -->
      <div [class.cv_none]="selected_menu !== 'vote'" class="cv_tab_cont">
        <ul *ngFor="let index of voteList" class="cv_main_list">
          <li  (click)="onClickNavigateMenu('vote/detail', index)">
            <div class="cv_info">
              <!-- notice image -->
              <div class="cv_img">
                <span><img src = "assets/common/images/posts/{{ index.img }}" alt="filter image"></span>
              </div>
              <!-- //notice image -->
              <!-- notice contents -->
              <div class="cv_cont">
                <div>
                  <div class="cv_tit">
                    <strong>{{ index.subject }}</strong>
                    <div class="cv_total">총 참여<span>{{ index.totalPartiCnt }}</span>명</div>
                    <div [ngClass]="{'cv_none' : index.studentsReplyContent === '' }" class="cv_btn_yellow_check"></div>
                  </div>
                </div>
              </div>
              <!-- //notice contents -->
            </div>
          </li>
        </ul>
      </div>
      <!-- //의결 -->
    </div>
  </div>
  <button type="button" class="btn_write" (click)="movePage('registration')"><span>Write</span></button>
</div>
